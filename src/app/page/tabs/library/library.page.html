<ion-header [translucent]="true">
  <ion-toolbar >
    <ion-title class="ion-text-center">
      <ion-icon name="library-outline"></ion-icon> My library
    </ion-title>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar [debounce]="500" placeholder="Search book" (ionChange)="search($event)"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">


  <div class="booksGrid">
    <ion-card *ngFor="let book of this.allBooksResult" (click)="details(book)">
      <ion-img [src]="book.photo" *ngIf="book.photo"></ion-img>
      <ion-card-header >
        <ion-card-title>{{book.title}}</ion-card-title>
        <ion-card-subtitle><ion-icon name="brush-outline"></ion-icon>Author: {{book.author}}</ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <p>{{book.description}}</p>
        <ion-chip *ngFor="let categorie of book.categories " [style.border-color]="categorie.color" [style.border-style]="'solid'" [style.border-width]="'2px'">{{categorie.title}}</ion-chip>
        <div class="align-right">
          <ion-fab style="position: relative;">
            <ion-fab-button (click)="editBook(book)" size="small">
              <ion-icon name="pencil"></ion-icon>
            </ion-fab-button>
          </ion-fab>
          <ion-fab style="position: relative;">
            <ion-fab-button (click)="deleteBook(book.id)" size="small" color="danger">
              <ion-icon name="trash"></ion-icon>
            </ion-fab-button>
          </ion-fab>
        </div>
      </ion-card-content>
    </ion-card>

  </div>


  <app-add-book #modalBook (refresh)="refreshBookList()"></app-add-book>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
<!--     <ion-fab-button color="secondary" title="Scan a book" style="margin-bottom: 1rem;" (click)="scanBook()">
      <ion-icon name="scan-outline"></ion-icon>
    </ion-fab-button> -->
    <ion-fab-button id="open-modal-book" color="primary" title="Add a book">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>
